<!--This is the dapp page, also known as the staking page, ignore auction and miner html files, this is the only file you need for dapp integration-->
<!doctype html>
<html lang="en" class="no-js">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="canonical" href="https://html5-templates.com/" />
    <title>FORGE</title>
	<meta name="description" content="Dont just buy crypto, FORGE it! Join our Discord or view our website for more informatoin.">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/modern-business.css" rel="stylesheet">
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="css/rounded-icons.css" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html" target="_self"><img src="img/forgeprofile circle-02.png" width="70" height="56" class="img-responsive"></a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="staking.html">DAPP - Stake, Mine, Auction</a>
                    </li>
                    <li>
                        <a href="auction.html">Token Stats</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Forge Instructions<b class="caret"></b></a>
                        <ul class="dropdown-menu">
                           
                            <li>
                                <a href="whitepaper.html">Whitepaper</a>
                            </li>
                            <li>
                                <a href="howtoauction.html">How to Auction</a>
                            </li>
                            <li>
                                <a href="howtostake.html">How to Stake</a>
                            </li>
                            <li>
                                <a href="howtomine.html">How to Mine</a>
                            </li>
                            <li>
                                <a href="contactus.html">Contact Us</a>
                            </li>
                        </ul>
                    </li>
                        </ul>
            </div>
        </div>
    </nav>
    <header id="myCarousel" class="carousel slide">
        <!-- Indicators for switching slides -->
        <!-- <ol class="carousel-indicators">
            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>     
        </ol> -->

        <!-- Wrapper for slides -->
        <div>
        <div class="carousel-inner">
            <div class="item active">
                <div class="fill" style="background-image:url('img/forge_orange.png'); background-size: contain; padding: 5%;"></div>
                <div class="carousel-caption">
                </div>
            </div>
            <div class="item next">
                <div class="fill" style="background-image:url('img/forge_black.png'); background-size: contain; padding: 5%;"></div>
                <div class="carousel-caption">
                </div>
            </div>
            <!--Class is editable in modern-business.css-->
            </div>
        </div>
        <!-- Controls for carousel, can be edited in modern-business.css-->
        <a class="left carousel-control" href="#myCarousel" data-slide="prev">
            <span class="icon-prev"></span>
        </a>
        <a class="right carousel-control" href="#myCarousel" data-slide="next">
            <span class="icon-next"></span>
        </a>
    </header>
    <!--Button to add Forge-->
    <div class="text-center" style="padding:3%;margin:0%;">
        <button class="enableEthereumButton22 btn btn-hover color-1 glowing">Click to Add PMBTC to Metamask</button>
        <br>
        <br>
    </div>
    <script>
        
    let accounts = [];
    //Sending Ethereum to an address
    //
    const ethereumButton22 = document.querySelector('.enableEthereumButton22');
    
    ethereumButton22.addEventListener('click', () => {
      getAccount22();
    });
    
    ethereumButton.addEventListener('click', () => {
      getAccount();
    });
    
    async function getAccount() {
      accounts = await ethereum.request({ method: 'eth_requestAccounts' });
      showAccount.innerHTML = accounts;
     console.log(accounts);
    }
        
    
    async function getAccount22() {
            
            
    try {
      await ethereum.request({
        method: 'wallet_switchEthereumChain',
        params: [{ chainId: '0x89' }],
      });
    } catch (switchError) {
      // This error code indicates that the chain has not been added to MetaMask.
      if (switchError.code === 4902) {
        try {
          await ethereum.request({
            method: 'wallet_addEthereumChain',
            params: [{ chainId: '0x89', 
            chainName: 'Polygon Mainnet',
            nativeCurrency: {
                name: 'MATIC',
                symbol: 'MATIC', // 2-6 characters long
                decimals: 18
            },
            blockExplorerUrls: ['https://polygonscan.com/'],
            rpcUrls: ['https://polygon-rpc.com/'] }],
          });
        } catch (addError) {
          // handle "add" error
        }
      }
      // handle other "switch" errors
    }		
            
            await new Promise(r => setTimeout(r, 20));
    
            
      accounts = await ethereum.request({ method: 'eth_requestAccounts' });
      const tokenAddress = '0x91DB156E6365de9bA8070d733F3163a48E6e3FC9';
    const tokenSymbol = 'PMBTC';
    const tokenDecimals = 9;
    const tokenImage = 'https://raw.githubusercontent.com/CrazyCaptian/PMBTC_Extra/main/32x32pmbtc.png';
    
    try {
      // wasAdded is a boolean. Like any RPC method, an error may be thrown.
      const wasAdded = await ethereum.request({
        method: 'wallet_watchAsset',
        params: {
          type: 'ERC20', // Initially only supports ERC20, but eventually more!
          options: {
            address: tokenAddress, // The address that the token is at.
            symbol: tokenSymbol, // A ticker symbol or shorthand, up to 5 chars.
            decimals: tokenDecimals, // The number of decimals in the token
            image: tokenImage, // A string url of the token logo
          },
        },
      });
    
      if (wasAdded) {
        console.log('Thanks for your interest!');
      } else {
        console.log('Your loss!');
      }
    } catch (error) {
      console.log(error);
    }
        }
    </script>
    <div class="beauty"><!--Beauty class just centers the object a little nicer-->
        <object data=https://laughing-poitras-747507.netlify.app/ size="50%" width="100%" height="1000px"> </object>
        </div>
    </div>
         <!-- Footer -->
        <footer>
            <p style="padding-left: 30px;">Forge Crypto, 2022</p>
            <div class="row">
                <div class="col-lg-12">
                    <div class="well">
                        <div class="row">
                            <div class="col-lg-12">
                                <a href="https://www.facebook.com/groups/199083588857137" class="fa fa-facebook"></a>
                                <a href="https://twitter.com/ForgeToken" class="fa fa-twitter"></a>
                                <a href="https://github.com/CrazyCaptian/0xMegaMine" class="fa fa-git"></a>
                                <a href="#" class="fa fa-youtube"></a>
                                <a href="https://medium.com/@ArbitrumBitcoin?p=e6cb37f7e641" class="fa fa-medium"></a>
                                <a href="https://t.me/Forge_Tokens" class="fa fa-telegram"></a>
                                <a href="https://discord.gg/E9nQA8jA" class="fa fa-user"></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
<!--paws off boi-->
    </div>
    <!-- /.container -->
    <!-- jQuery -->
    <script src="js/jquery.js"></script>
    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>
    <!-- Script to Activate the Carousel -->
    <script>
    $('.carousel').carousel({
        interval: 5000 //changes the speed
    })
    </script>
	</div>
</body>

</html>
